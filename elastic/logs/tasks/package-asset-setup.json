{
  "name": "validate-package-template-installation",
  "tags": ["setup"],
  "operation": {
    "operation-type": "validate-package-assets",
    "packages": {{ p_packages }},
    "asset-types": ["index-templates"]
  }
},
{
  "name": "update-custom-package-templates",
  "tags": ["setup"],
  "operation": {
    "operation-type": "update-custom-templates",
    "body": {
      "template" : {
        "settings": {
          "index" : {
            "number_of_replicas" : "{{number_of_replicas | default('0')}}",
            "number_of_shards" : "{{number_of_shards | default('1')}}"
          }
        },
        "mappings" : {
          "runtime": {
            "rally.doc_size": {
              "type": "long"
            },
            "rally.message_size": {
              "type": "long"
            }
          },
          "properties" : {
            "event": {
              "properties": {
                "created": {
                  "type": "date",
                  "format": "strict_date_optional_time"
                },
                "ingested": {
                  "type": "date",
                  "format": "strict_date_optional_time"
                }
              }
            }
          }
        }
      }
    }
  }
},
