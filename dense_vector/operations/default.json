{
  "name": "index-append",
  "operation-type": "bulk",
  "bulk-size": {{bulk_size | default(5000)}},
  "ingest-percentage": {{ingest_percentage | default(100)}}
},
{
  "name": "knn-search-10-50",
  "operation-type": "raw-request",
  "path": "/vectors/_knn_search",
  "method": "POST",
  "body": {
   "knn": {
      "field": "vector",
      "query_vector": [0.21529805660247803, -0.06119159981608391, 0.08770883828401566, 0.08731604367494583, -0.03312725946307182, -0.06861377507448196, 0.011172166094183922, 0.08099681884050369, 0.06873716413974762, -0.10662394016981125, -0.06803347170352936, -0.22509372234344482, 0.04775683954358101, -0.11963146924972534, -0.13713325560092926, 0.040520284324884415, 0.03633395954966545, -0.06001321226358414, 0.05640476569533348, -0.1323852241039276, 0.09493865817785263, 0.08581436425447464, 0.11651603877544403, -0.007319801487028599, 0.07001037895679474, -0.20735269784927368, 0.09725717455148697, -0.09026120603084564, 0.027974626049399376, 0.07966648787260056, -0.00902935303747654, -0.25620758533477783, -0.03905373811721802, 0.1739693433046341, -0.0062398542650043964, 0.1722472906112671, -0.005885206162929535, -0.15015317499637604, -0.13207486271858215, -0.05693387985229492, 0.1926010102033615, -0.03730269894003868, 0.06276655197143555, 0.06388836354017258, -0.07929308712482452, -0.04800641909241676, -0.04506685957312584, -0.025829171761870384, 0.11739484965801239, 0.04018357768654823, 0.03557595983147621, -0.14328059554100037, -0.009096059016883373, 0.01991777867078781, 0.19544541835784912, 0.16432076692581177, -0.17786552011966705, -0.011906086467206478, -0.022930240258574486, 0.0394594669342041, -0.1750987023115158, -0.07123833894729614, 0.03142083063721657, -0.03363385424017906, 0.042252954095602036, -0.12258686870336533, 0.0053991954773664474, -0.0580497682094574, -0.13083989918231964, 0.01648520492017269, -0.15029865503311157, 0.04681768640875816, -0.22521495819091797, -0.028500616550445557, 0.09996795654296875, 0.04748646169900894, -0.12404435873031616, 0.11154870688915253, -0.018465351313352585, -0.009930790401995182, -0.04939839243888855, -0.1522141546010971, 0.21582986414432526, -0.05126684159040451, -0.020097043365240097, -0.05058222636580467, 0.0635807067155838, 0.01816011220216751, 0.0961170494556427, 0.06972803920507431, 0.13445426523685455, -0.015163707546889782, -0.0299700740724802, 0.03558037802577019, 0.10351981967687607, -0.025422528386116028],
      "k": 10,
      "num_candidates": 50
    },
    "_source": false
  }
},
{
  "name": "knn-search-10-100",
  "operation-type": "raw-request",
  "path": "/vectors/_knn_search",
  "method": "POST",
  "body": {
   "knn": {
      "field": "vector",
      "query_vector": [-0.01741757057607174, 0.14605559408664703, 0.05375729873776436, 0.2112421989440918, -0.22955749928951263, 0.06718245893716812, 0.11364871263504028, 0.09111037850379944, -0.049616940319538116, -0.08915813267230988, 0.012340390123426914, -0.023368464782834053, 0.1045212522149086, -0.011265750043094158, -0.09670288115739822, 0.036743324249982834, 0.07873900234699249, 0.007256705779582262, 0.03541859984397888, -0.2761920988559723, -0.2440742701292038, 0.2720535397529602, -0.09494713693857193, -0.07274880260229111, 0.1113564521074295, -0.06175640597939491, -0.09672165662050247, 0.09610935300588608, 0.016836054623126984, 0.1192827969789505, -0.1498594731092453, 0.22238093614578247, 0.02212348021566868, -0.06643924862146378, -0.006858544424176216, 0.06983284652233124, -0.09914133697748184, -0.01972384937107563, -0.05131400749087334, -0.05744316056370735, 0.1135910376906395, 0.11401756852865219, -0.09539981186389923, 0.043675169348716736, -0.05341513454914093, -0.13979177176952362, -0.012779462151229382, -0.06833663582801819, -0.06406550109386444, 0.03911498934030533, 0.05795452743768692, -0.1753486543893814, 0.0748385339975357, 0.18463103473186493, 0.08262202888727188, -0.10255089402198792, -0.006666512694209814, 0.00522675970569253, 0.017448285594582558, 0.17432524263858795, -0.10782081633806229, 0.12901383638381958, -0.09287483990192413, 0.025269607082009315, 0.036100711673498154, 0.018539492040872574, -0.1558443158864975, 0.03457432612776756, 0.011586586013436317, -0.04806225746870041, -0.016700316220521927, 0.07295603305101395, -0.03470483422279358, -0.030235392972826958, 0.014248172752559185, 0.0059237065725028515, 0.13456007838249207, -0.057701289653778076, -0.16779720783233643, -0.210656076669693, -0.04036285728216171, -0.06762709468603134, 0.07863438129425049, -0.08489082008600235, -0.028877539560198784, 0.10990986973047256, 0.01897674985229969, -0.03575875237584114, -0.028362013399600983, -0.0746467262506485, 0.062472857534885406, 0.0022643564734607935, 0.11881736665964127, 0.10768601298332214, -0.09612879902124405, -0.02399732917547226],
      "k": 10,
      "num_candidates": 100
    },
    "_source": false
  }
},
{
  "name": "knn-search-100-1000",
  "operation-type": "raw-request",
  "path": "/vectors/_knn_search",
  "method": "POST",
  "body": {
   "knn": {
      "field": "vector",
      "query_vector": [-0.026554683223366737, 0.06871923804283142, 0.0906006321310997, 0.05585591495037079, 0.048228368163108826, 0.00838412530720234, -0.0253851730376482, -0.10791382938623428, -0.009210014715790749, 0.011520872823894024, -0.11899486184120178, 0.07982027530670166, 0.045526258647441864, -0.16116975247859955, -0.044768527150154114, -0.15779243409633636, 0.2539297640323639, -0.05495187267661095, 0.011850547976791859, -0.09045898914337158, 0.11095444113016129, 0.0866033211350441, 0.0004583998816087842, 0.034310124814510345, 0.004791099112480879, 0.12785881757736206, -0.08538877218961716, -0.025379490107297897, 0.02938256971538067, -0.110442154109478, 0.08617161214351654, 0.0017768485704436898, 0.07978922873735428, -0.15177230536937714, 0.03689587116241455, 0.10334063321352005, -0.07309117168188095, -0.10741003602743149, 0.10323291271924973, 0.03205660358071327, 0.057070713490247726, 0.00618179515004158, -0.1990852653980255, 0.06722386181354523, -0.04918329417705536, -0.08693918585777283, 0.21690820157527924, 0.0627426877617836, 0.13963107764720917, -0.050264596939086914, 0.09691338241100311, -0.05404605716466904, -0.03894617408514023, 0.14497949182987213, -0.0562262125313282, 0.010035514831542969, 0.07793467491865158, 0.12475545704364777, 0.06874679774045944, 0.02449411153793335, -0.30149802565574646, -0.09350892156362534, -0.02857937663793564, -0.005987247917801142, -0.022297922521829605, 0.02529425173997879, 0.16501863300800323, 0.14440445601940155, -0.10649912804365158, -0.012939990498125553, -0.04224834591150284, -0.0040962472558021545, 0.026089219376444817, -0.18860302865505219, -0.050873056054115295, -0.19429662823677063, -0.11985572427511215, 0.0009087034268304706, 0.06421956419944763, -0.12558579444885254, -0.10697323828935623, -0.18640463054180145, -0.01710379123687744, -0.15556350350379944, 0.04295213893055916, -0.042350124567747116, -0.09264551103115082, -0.25027593970298767, 0.02866724506020546, -0.01682187058031559, 0.07158078998327255, 0.21344861388206482, 0.0957726240158081, 0.07179282605648041, -0.011534358374774456, -0.007820149883627892],
      "k": 100,
      "num_candidates": 1000
    },
    "_source": false
  }
},
{
  "name": "script-score-query",
  "operation-type": "search",
  "body": {
    "size": 10,
    "query": {
      "script_score": {
        "query": { "match_all": {}},
        "script": {
          "source": "cosineSimilarity(params.query, 'vector') + 1.0",
          "params": {
            "query": [0.21529805660247803, -0.06119159981608391, 0.08770883828401566, 0.08731604367494583, -0.03312725946307182, -0.06861377507448196, 0.011172166094183922, 0.08099681884050369, 0.06873716413974762, -0.10662394016981125, -0.06803347170352936, -0.22509372234344482, 0.04775683954358101, -0.11963146924972534, -0.13713325560092926, 0.040520284324884415, 0.03633395954966545, -0.06001321226358414, 0.05640476569533348, -0.1323852241039276, 0.09493865817785263, 0.08581436425447464, 0.11651603877544403, -0.007319801487028599, 0.07001037895679474, -0.20735269784927368, 0.09725717455148697, -0.09026120603084564, 0.027974626049399376, 0.07966648787260056, -0.00902935303747654, -0.25620758533477783, -0.03905373811721802, 0.1739693433046341, -0.0062398542650043964, 0.1722472906112671, -0.005885206162929535, -0.15015317499637604, -0.13207486271858215, -0.05693387985229492, 0.1926010102033615, -0.03730269894003868, 0.06276655197143555, 0.06388836354017258, -0.07929308712482452, -0.04800641909241676, -0.04506685957312584, -0.025829171761870384, 0.11739484965801239, 0.04018357768654823, 0.03557595983147621, -0.14328059554100037, -0.009096059016883373, 0.01991777867078781, 0.19544541835784912, 0.16432076692581177, -0.17786552011966705, -0.011906086467206478, -0.022930240258574486, 0.0394594669342041, -0.1750987023115158, -0.07123833894729614, 0.03142083063721657, -0.03363385424017906, 0.042252954095602036, -0.12258686870336533, 0.0053991954773664474, -0.0580497682094574, -0.13083989918231964, 0.01648520492017269, -0.15029865503311157, 0.04681768640875816, -0.22521495819091797, -0.028500616550445557, 0.09996795654296875, 0.04748646169900894, -0.12404435873031616, 0.11154870688915253, -0.018465351313352585, -0.009930790401995182, -0.04939839243888855, -0.1522141546010971, 0.21582986414432526, -0.05126684159040451, -0.020097043365240097, -0.05058222636580467, 0.0635807067155838, 0.01816011220216751, 0.0961170494556427, 0.06972803920507431, 0.13445426523685455, -0.015163707546889782, -0.0299700740724802, 0.03558037802577019, 0.10351981967687607, -0.025422528386116028]
          }
        }
      }
    },
    "_source": false
  }
}
